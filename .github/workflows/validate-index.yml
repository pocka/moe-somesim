name: è£…å‚™ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«æ¤œè¨¼

on:
  push:
    paths:
      - "data/images/**"
      - "tools/**"

jobs:
  validate:
    name: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¤œè¨¼
    runs-on: ubuntu-latest
    steps:
      - name: "ğŸ“¦ ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ"
        uses: actions/checkout@v3

      - name: "ğŸ“¦ Denoã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—"
        uses: denoland/setup-deno@v1
        with:
          deno-version: v1.29.x

      - name: "ğŸ” è£…å‚™ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’æ¤œè¨¼"
        run: deno run --allow-read=./,../../data/images main.ts --index=../../data/images/index.json
        working-directory: ./tools/validate-item-index
